<!--

jon atack

-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>jon atack - On Reviewing, and Helping Those Who Do It</title>
    <meta charset="utf-8">
    <base target="_blank">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/style.css" />
  </head>

  <body>
    <div id="content">
      <div id="right">
        <div class="list">
          <ul>
            <li>
              <a href="/" target="_self">home</a>
            </li>
            <li>
              <a href="/articles" target="_self">articles</a>
            </li>
            <li>
              <a href="/bitcoin.pdf" target="_self">bitcoin white paper</a>
            </li>
            <li>
              <a href="/contact" target="_self">contact</a>
            </li>
            <li>
              <a href="/donate" target="_self">donate</a>
            </li>
            <li>
              &nbsp;
            </li>
            <li class="small">
              style:<br>
              <a href="https://basicbitch.software" class="small" target="_blank">basicbitch.software</a>
            </li>
          </ul>
        </div>
        <div class="namecap">
          <a href="/" target="_self">&nbsp;jon&nbsp;<br>atack</a>
        </div>
      </div>

      <div id="entry_block">
        <div class="entry">
          <div class="date">Last updated: 9 February 2023</div>
          <div class="body">
            <article>
              <div class="title">On Reviewing, and Helping Those Who Do It</div>

              <p>
                <a href="how-to-review-pull-requests-in-bitcoin-core"
                   target="_self">Reviewing</a>
                is not only the most effective way to contribute as a new
                contributor to Bitcoin Core, it is also an important way to
                influence
                <a href="https://tools.ietf.org/html/rfc7282"
                   target="_blank">consensus</a> on changes.
                Just as our daily choices and actions are the best way we can
                influence life around us, our review choices matter profoundly
                and cumulatively to Bitcoin.
              </p>
              <p>
                Therefore, a good approach can be to consider review not only as
                the best way to get started contributing, but also as the
                primary long-term activity of a Bitcoin developer.
              </p>
              <h3 id="the-current-state-of-affairs">The Current State of Affairs</h3>
              <p>
                <a href="https://github.com/bitcoin/bitcoin/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc"
                   target="_blank">Several hundred pull requests</a>
                are open at any given moment in Bitcoin Core waiting for review
                and testing, and the stack continues to grow higher — 280 in
                November 2019, 380 at the end of April 2020, and 400 at the
                start of June 2020, when the number of PRs in the blockers list
                also reached a
                <a href="http://www.erisian.com.au/bitcoin-core-dev/log-2020-06-04.html#l-329"
                   target="_blank">record high number</a>.
              </p>
              <p>
                Review is currently not keeping pace with PRs. The same is true
                for
                <a href="https://github.com/bitcoin/bitcoin/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc"
                   target="_blank">open issues</a>,
                which generally keep growing in number, outside of occasional
                exemplary efforts to weed and close stale ones.
              </p>
              <p>
                Valuable, high-priority PRs can be seen sitting for months or
                even years without enough reviewers, subjecting their authors to
                frustration, discouragement, and rebase hell until they abandon
                working on them.
              </p>
              <p>
                This is not a criticism of the maintainers. They're doing a
                great job. They need help:
                <a href="http://www.erisian.com.au/bitcoin-core-dev/log-2020-06-04.html#l-337"
                   target="_blank">more review and testing</a>.
              </p>
              <p>
                The number of people doing good, consistent review and testing
                is surprisingly low. On any given day, we see a handful of
                regular contributors reviewing on a daily basis. Of these, fewer
                still have the situation and predisposition to tackle review of
                the harder or larger PRs. That leaves us with very few
                consistent reviewers present most days.
              </p>
              <p>
                When I describe this situation to people, even to established
                ones in the Bitcoin space, they tend to be astonished at how few
                people the system is depending on.
              </p>

              <h3 id="current-issues">Current Issues</h3>
              <p>
                This state of affairs creates several problems:
                <ol>
                  <li>
                    High-priority, larger, or harder-to-review PRs can go for
                    months (and even years) without sufficient review.
                  </li>
                  <li>
                    Regular PRs that provide good but non-urgent improvements or
                    prevention can sometimes sit for months without review, or
                    until an issue they address causes pain from a bug,
                    regression, or vulnerability.
                  </li>
                  <li>
                    Any PR of non-immediate urgency beyond a certain size,
                    number of commits, or level of complexity is a candidate for
                    needing to be separated into bite-sized PRs in order to
                    attract reviewers, which multiplies the number of PRs.
                    While small focused PRs can be good, and separating large
                    PRs into logical small ones can improve the code, some
                    changes are better done in one go.
                  </li>
                  <li>
                    PR authors may be incentivized to open more trivial PRs that
                    have a better chance of being reviewed and merged within a
                    reasonable time (until the author tires of making this sort
                    of contribution and aspires to greater things, before
                    becoming discouraged again).
                  </li>
                  <li>
                    Things are often abandoned or never quite finished. Some
                    contributors leave or take long periods of absence from the
                    project out of frustration. Other people shake it off but
                    feel recurring discouragement.
                  </li>
                  <li>
                    Managing context, relevance, and being humble and kind can
                    make a big difference. Bitcoin Core code review is a social
                    process. Having PRs reviewed without being too annoying
                    (hopefully by helping others and doing consistent review
                    yourself) can be an art.
                  </li>
                  <li>
                    Nevertheless, the project and its reviewers run a continual
                    risk of mal-investment — scarce review resources going to
                    poorly done, annoying, insufficiently researched, or even
                    dangerous changes, or ones that add technical debt — rather
                    than catching a regression or vulnerability, fixing issues,
                    improving performance, increasing test coverage, finishing
                    ongoing projects, doing long-term work, and other
                    priorities.
                  </li>
                  <li>
                    Above all, not enough contributors put the project first, do
                    consistent review, and follow the rule of thumb of 5 to 15
                    reviews or issues handled per PR opened.
                  </li>
                </ol>
              </p>
              <h3 id="what-to-review">What to Review</h3>
              <p>
                Given this state of affairs, which PRs we review with our
                limited time is an important choice, and one that might be
                under-appreciated.
              </p>
              <p>
                The PRs we review represent:
                <ul>
                  <li>
                    what areas we contribute to
                  </li>
                  <li>
                    which project priorities matter to us
                  </li>
                  <li>
                    what kind of PRs we incentivize
                  </li>
                  <li>
                    ultimately, which behavior we reward
                  </li>
                </ul>
              </p>
              <p>
                With this in mind, I try to pay more attention to selecting the
                best PRs to review. It's a juggling act, to be sure, and
                guilt-driven review is also a real (and valid)
                driver. Nevertheless, here are my criteria:
                <ul>
                  <li>
                    What: choosing harder, high-value PRs over new, easy or
                    trivial ones (knowing that the latter will see review
                    anyway) unless they are useful, interesting, or an area I
                    know well.
                  </li>
                  <li>
                    Who: rewarding people who do consistent or outstanding
                    review/issue testing or who have been kind, patient and
                    selfless.
                  </li>
                  <li>
                    It's also generally more enjoyable to review people who
                    respond well or at least reasonably nicely to your review
                    feedback. Kindness is free!
                  </li>
                  <li>
                    If a PR seems to be suffering from lack of review, author
                    popularity or motivation and needs a nudge forward, that's
                    even more reason to review it.  A simple nudge can get the
                    ball rolling and be surprisingly powerful!
                  </li>
                  <li>
                    I also try to avoid reviewing these sorts of PRs:
                    <ol>
                      <li>
                        PRs that are unfinished, or lacking sufficient research,
                        or that don't build cleanly, or the tests don't run.
                      </li>
                      <li>
                        PRs where bikeshedding, arguing, or
                        politics/signaling/tribalism is taking place; these PRs
                        attract a lot of attention anyway.
                      </li>
                      <li>
                        PRs where there is already a crowd of reviewers, unless
                        it's an area I know well and can add value.
                      </li>
                    </ol>
                  </li>
                </ul>
              </p>

              <h3 id="on-reviewing">On Reviewing</h3>
              <p>
                Sure, writing code and opening PRs can be fun and superficially
                newsworthy. But it needs to be accompanied by a
                project-sustainable level of reviewing and testing or it becomes
                immature and short-sighted. A balance here seems
                important. Reviewing, issue testing, release candidate testing,
                and building guix/gitian signatures are vital to Bitcoin and not
                optional to the health of the project. <em>We need to reward
                selfless review and testing, kindness, and helping others.</em>
              </p>
              <p>
                If you are a newer or less-experienced contributor, please don't
                let that be an excuse or discourage you from testing issues,
                release candidates, and reviewing. These activities will teach
                you more and be of higher value to the project — and to you —
                than just opening PRs.
              </p>
              <p>
                Read through the recently-active
                <a href="https://github.com/bitcoin/bitcoin/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc"
                   target="_blank">PRs</a>
                and
                <a href="https://github.com/bitcoin/bitcoin/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc"
                   target="_blank">issues</a>
                and review or test ones that are somewhat accessible — ideally
                at the edge of your current reach — and ramp up gradually to the
                harder and important
                <a href="https://github.com/bitcoin/bitcoin/projects/8"
                   target="_blank">high-priority</a>
                ones.
              </p>
              <p>
                As
                <a href="https://twitter.com/moneyball" target="_blank">Steve Lee</a>
                of
                <a href="https://spiral.xyz/" target="_blank">Spiral</a>
                recently wrote: "If literally all a developer did was review
                hard but important PRs it'd be incredibly valuable." It would be
                wonderful if more open source contributors and sponsors/donors
                shared this view.
              </p>

              <h3 id="what-to-do">What To Do</h3>
              <p>
                This is open source; it's ad hoc and free-flowing. These ideas
                are proposed more as guidelines than as rules; as goals to think
                about and consider.
              </p>
              <p>
                <em>Contributing is not only about commits</em>. It would be
                great to get away from the idea of telling people that
                contributing equals opening PRs. Contributing is much more than
                this and it could be reflected in what we say and do.
              </p>
              <p>
                Continue to do more reviewing and issue testing than adding PRs
                to the backlog. <em>Reviewing 5 to 15 PRs</em> (or testing 5-15
                issues) for every PR you open is a good range. Communicate that
                norm to people.
              </p>
              <p>
                Before and after opening a PR in a particular domain, <em>review
                the other open PRs in the same domain</em>. Presumably you have
                or could use more domain expertise. Gather and share it by
                reviewing and testing the related PRs.
              </p>
              <p>
                Find a way to <em>reward people who are doing consistent review
                or testing</em>. It's a harder and less-celebrated path. These
                people need support.
                <a href="how-to-review-pull-requests-in-bitcoin-core"
                   target="_self">Review their work</a>.
                Help them. Donate Bitcoin to them.
              </p>
              <p>
                Happy contributing!
              </p>
              <p>Cheers,</p>
              <p>Jon Atack</p>
            </article>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
