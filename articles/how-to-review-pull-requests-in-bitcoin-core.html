<!--

jon atack

-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>jon atack - How to Review Pull Requests in Bitcoin Core</title>
    <meta charset="utf-8">
    <base target="_blank">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <script defer src="../script.js"></script>

  </head>

  <body>
    <div id="dark-mode-toggle">
      <label>
        <input type="checkbox" id="darkModeSwitch" />
        <span>Dark Mode</span>
      </label>
    </div>
    <div id="content">
      <div id="right">
        <div class="list">
          <ul>
            <li>
              <a href="/" target="_self">home</a>
            </li>
            <li>
              <a href="/articles" target="_self">articles</a>
            </li>
            <li>
              <a href="/bitcoin.pdf" target="_self">bitcoin white paper</a>
            </li>
            <li>
              <a href="/contact" target="_self">contact</a>
            </li>
            <li>
              <a href="/donate" target="_self">donate</a>
            </li>
            <li>
              &nbsp;
            </li>
            <li class="small">
              style:<br>
              <a href="https://basicbitch.software" class="small" target="_blank">basicbitch.software</a>
            </li>
          </ul>
        </div>
        <div class="namecap">
          <a href="/" target="_self">&nbsp;jon&nbsp;<br>atack</a>
        </div>
      </div>

      <div id="entry_block">
        <div class="entry">
          <div class="date">Last updated: 30 October 2023</div>
          <div class="body">
            <article>
              <div class="title">How to Review Pull Requests in Bitcoin Core</div>

              <h3 id="before-you-begin">BEFORE YOU BEGIN</h3>
              <p>
                This guide builds on the foundation laid by these presentations:
              </p>
              <ol>
                <li>
                    <a href="https://programmingbitcoin.com/a-gentle-introduction-to-bitcoin-core-development/"
                        rel="nofollow">A Gentle Introduction to Bitcoin Core
                      Development</a>
                    by
                    <a href="https://twitter.com/jimmysong" rel="nofollow">Jimmy
                      Song</a>
                    (2017)
                </li>
                <li>
                    <a href="https://johnnewbery.com/contributing-to-bitcoin-core-a-personal-account/"
                       Rel="nofollow">Contributing to Bitcoin Core, a Personal Account</a>
                    by
                    <a href="https://twitter.com/jfnewbery" rel="nofollow">John
                      Newbery</a> (2017)
                </li>
                <li>
                    <a href="https://medium.com/@pierre_rochard/understanding-the-technical-side-of-bitcoin-2c212dd65c09"
                       rel="nofollow">Understanding the Technical Side of Bitcoin</a>
                    by
                    <a href="https://twitter.com/BitcoinPierre"
                       rel="nofollow">Pierre Rochard</a>
                    (2018)
                </li>
                <li>
                    <a href="https://www.youtube.com/watch?v=MJBhZg0ytiw"
                       rel="nofollow">A hardCORE workout</a>
                    /
                    <a href="https://diyhpl.us/wiki/transcripts/sf-bitcoin-meetup/2018-04-23-jeremy-rubin-bitcoin-core/"
                       rel="nofollow">transcript</a>
                    /
                    <a href="https://drive.google.com/file/d/149Ta1WRXL5WEvnBdlL-HxmsFDXUbvFDy/view"
                       rel="nofollow">slides</a>
                    by
                    <a href="https://twitter.com/JeremyRubin"
                       rel="nofollow">Jeremy Rubin</a>
                    (2018)
                </li>
              </ol>

              <h3 id="introduction">INTRODUCTION</h3>

              <p>
                Reviewing and testing can be the best ways to begin contributing
                to Bitcoin Core.
              </p>
              <p>
                Experienced review and testing are regularly cited by long-term
                Bitcoin Core developers as both
              </p>
              <ul>
                <li>
                  resource bottlenecks, and
                </li>
                <li>
                  the best and most helpful way to learn and begin contributing
                  and earning reputation in the community.
                </li>
              </ul>

              <h3 id="terminology">TERMINOLOGY</h3>

              <p>
                <a href="https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#peer-review">ACK,
                  NACK</a>:
                Definitions and origins
                <a href="https://www.freecodecamp.org/news/what-do-cryptic-github-comments-mean-9c1912bcc0a4/"
                   target="_blank" rel="nofollow">here</a>
                and
                <a href="https://searchnetworking.techtarget.com/definition/ACK"
                   target="_blank" rel="nofollow">here</a>.
              </p>
              <p>
                Nit: A trivial, often non-blocking issue.
              </p>
              <p>
                <a href="https://help.github.com/en/articles/about-pull-requests">PR</a>:
                An acronym for <em>pull request</em>, sometimes called a merge
                request. A proposed change to the code or documentation in the
                source code repository.
              </p>
              <p>
                <a href="https://en.wikipedia.org/wiki/Work_in_process"
                   target="_blank" rel="nofollow">WIP</a>:
                An acronym for <em>work in progress</em>.
              </p>

              <h3 id="general">GENERAL</h3>

              <p>
                As a newcomer, the goal is to try to add value, with
                friendliness and humility, while learning as much as possible.
                (Not only as a newcomer, though; this process never ends.)
              </p>
              <p>
                A good approach is to make it not about you, but rather "How can
                I best serve?"
              </p>
              <p>
                One of the most challenging aspects facing new contributors is
                the breadth of the codebase and the complexity of the
                technologies surrounding it.
              </p>
              <p>
                Be aware of what you don’t know; long-term contributors have
                years of experience and context. The community has built up a
                deep collective wealth of knowledge and experience. Keep in mind
                that your new ideas may have already been proposed or considered
                several times in the past.
              </p>
              <p>
                Remember that contributor and maintainer resources are limited —
                ask for them carefully and respectfully. The goal is to try to
                give more than you take, to help more than hinder, while getting
                up to speed.
              </p>
              <p>
                Try to figure things out on your own, at least sufficiently to
                respect others' time.
              </p>
              <p>
                Follow the
                <a href="https://kiwiirc.com/nextclient/irc.libera.chat"
                   rel="nofollow">#bitcoin-core-dev</a> IRC channel and the
                <a href="https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
                   rel="nofollow">bitcoin-dev</a> mailing list.
              </p>
              <p>
                More IRC channels to follow
                <a href="https://github.com/jonatack/bitcoin-development/blob/master/irc-channels.txt"
                   rel="nofollow">can be found here</a>.
              </p>

              <p>
                Before jumping in, take plenty of time to:
              </p>
              <ul>
                <li>
                  understand the contribution process and guidelines, not only
                  by reading the documentation in the
                  <a href="https://github.com/bitcoin/bitcoin">repository</a>,
                  notably the
                  <a href="https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md">Contributing Guide</a>,
                  <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md"
                     target="_blank">Developer Notes</a>
                  and
                  <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/productivity.md"
                     target="_blank">Productivity Notes</a>
                  (and generally, everything in the
                  <a href="https://github.com/bitcoin/bitcoin/tree/master/doc">doc</a>
                  and
                  <a href="https://github.com/bitcoin/bitcoin/tree/master/test">test</a>
                  <a href="https://github.com/bitcoin/bitcoin/tree/master/src/test">directories</a>),
                  but also by observing interactions on the
                  <a href="https://kiwiirc.com/nextclient/irc.libera.chat"
                     rel="nofollow">#bitcoin-core-dev</a> IRC channel and the
                  ongoing
                  <a href="https://github.com/bitcoin/bitcoin/pulls">code review
                    in the repository</a>
                </li>
                <li>
                  get to know the regular contributors: what they do, what they
                  like and want, how they give feedback
                </li>
              </ul>

              <p>
                Many newcomers begin by opening pull requests that add to the
                hundreds already awaiting valuable review.  It's much better to
                begin by reviewing the existing pull requests and starting to
                understand what kind of pull requests and review are most
                helpful, while slowly gaining the big picture.
              </p>
              <p>
                A good rule of thumb is to review 5-15 PRs for each PR you open.
              </p>

              <h4 id="the-big-picture">The big picture</h4>

              <p>
                The big picture is more important than nits, spelling, or code
                style.
              </p>
              <p>
                There are different levels of big picture review: "does this
                change affect behavior?" or "is this safe?" are different from
                "is this a good idea?" The latter may require more context,
                which you will slowly gain with time. Don't let that stop you
                from thinking about these questions and striving to review on
                that level.
              </p>
              <p>
                Steps to improve understanding of the big picture:
              </p>
              <ul>
                <li>
                  do the
                  <a href="https://github.com/chaincodelabs/study-groups">Chaincode
                    Labs study guide</a>
                </li>
                <li>
                  consider applying to and participating in the highly
                  recommended
                  <a href="https://learning.chaincode.com/">Chaincode Labs
                    online seminars</a>
                  (that also effectively serve as talent scouting for new
                  developers looking for Bitcoin jobs and open source grants)
                </li>
                <li>
                  study the
                  <a href="https://github.com/bitcoin/bips/">Bitcoin Improvement
                    Proposals</a>
                  (often referred to in singular form by the acronym "BIP"), and
                  return to them frequently
                </li>
                <li>
                  subscribe to the
                  <a href="https://bitcoinops.org/"
                     target="_blank" rel="nofollow">Bitcoin Optech newsletters</a>
                  and use their
                  <a href="https://bitcoinops.org/en/topics/"
                     target="_blank" rel="nofollow">topics page</a>
                  as a go-to resource.
                </li>
                <li>
                  do
                  <a href="https://github.com/ChristopherA/Learning-Bitcoin-from-the-Command-Line">Learning
                    Bitcoin from the Command Line</a>
                </li>
              </ul>
              <p>
                Aim for quality over quantity and a balance between deep work
                and quick wins.
              </p>
              <p>
                Documentation is important, e.g. high-level documentation of how
                things work and interact, clear and accurate code docs, whether
                a function has a good description and
                <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-doxygen-compatible-comments">Doxygen
                  documentation</a>,
                test logging (both <code>info</code> and <code>debug</code>),
                and so on.
              </p>
              <p>
                Test coverage is important; don't hesitate to improve or write
                any missing
                <a href="https://github.com/bitcoin/bitcoin/blob/master/src/test/">unit</a>,
                <a href="https://github.com/bitcoin/bitcoin/tree/master/test/functional/">functional</a>,
                or
                <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/fuzzing.md" target="_blank">fuzz</a>
                tests.
              </p>
              <p>
                Be a humble and kind contributor. Help PRs move forward by reviewing,
                <a href="https://github.com/bitcoin/bitcoin/pull/15996#issuecomment-491740946">proposing
                  tests</a>
                or fixes in a helpful way, proposing to rebase, or even offering
                to take over the PR after months of silence. In short, help each
                other!
              </p>

              <h4 id="nits">Nits</h4>

              <p>
                Try to avoid overly commenting in PRs about nits, minutiae and
                code style, particularly with PRs labeled as WIP, or when a PR
                has just been filed and the PR author is mainly looking for
                Concept ACKs and Approach ACKs, e.g. general consensus, not
                nitpicking.
              </p>
              <p>
                Long-term contributors report that activity like this repels
                them, and it can diminish your social capital on the
                project. Try to understand what kind of review is needed and
                when to do what.
              </p>
              <p>
                The best time for any nit comments is after the Concept/Approach
                ACKs and consensus on the PR, and before the PR is finalised and
                has tested ACKs. As Pieter Wuille
                <a href="http://www.erisian.com.au/bitcoin-core-dev/log-2020-05-17.html#l-307">wrote
                  on IRC</a>:
                "I think the most disrupting thing to a PR is getting a
                multitude of low level/nits/code style comments, while it's very
                unclear if a PR is desirable as a concept."
              </p>
              <p>
                Give nits and style advice in a friendly, light, enabling way —
                as in, feel free to ignore, feel free to adjust if you happen to
                rebase, etc.
              </p>
              <p>
                Keep in mind that no one is forced to take your review comments
                into account; it's perfectly fine for the author to reply that
                they don't want to do something if they feel it is outside the
                scope of the change, especially if your comment is nitpicky.
              </p>

              <h4 id="scale-up">Scale up</h4>

              <p>
                When you can, scale up the difficulty and priority of the PRs
                you review.
              </p>
              <p>
                Quality of review is much more important than quantity. You can
                <a href="on-reviewing-and-helping-those-who-do-it" target="_self">add more
                  value</a>
                and learn more by taking the time to do deep, quality review of
                the
                <a href="https://github.com/orgs/bitcoin/projects/1/views/1"
                   target="_blank">high-priority PRs</a>
                and the more difficult PRs. These PRs tend to intimidate people
                and can stagnate for months, killing their author's motivation
                with death by a thousand cuts from lack of quality review,
                nitpicking/code style bikeshedding, and rebase hell.  Reviewing
                them well provides a true service to Bitcoin.
              </p>
              <p>
                The process of ramping up takes time; nothing can substitute for
                months and years invested in gathering context and understanding
                from following the
                <a href="https://github.com/bitcoin/bitcoin">code</a>,
                <a href="https://github.com/bitcoin/bitcoin/issues">issues</a>,
                <a href="https://github.com/bitcoin/bitcoin/pulls">pull requests</a>,
                <a href="https://kiwiirc.com/nextclient/irc.libera.chat"
                   rel="nofollow">#bitcoin-core-dev</a>
                IRC channel, and the
                <a href="https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
                   rel="nofollow">bitcoin-dev</a>
                mailing list.
              </p>
              <p>
                A useful first question when beginning a review can be, "What is
                most needed here at this time?" Answering this question requires
                experience and accumulated context, but it is a useful question
                in deciding how you can add the most value in the least
                time. Depending on how complex or critical the changes are and
                how far along the PR is in the review process, a helpful
                experienced review may entail skimming the code and applying a
                wealth of context to a pertinent code comment in a critical
                place rather than doing a full review involving debug-building,
                testing, and reviewing each commit. However, in most cases it's
                best and adds the most value to do a proper full review.
              </p>

              <h4 id="step-by-step">Step by step</h4>

              <p>
                Keep ego and hopes out of the process. Don't take things
                personally and keep moving forward.
              </p>
              <p>
                When in doubt, assume good intentions.
              </p>
              <p>
                Be patient with people and outcomes.
              </p>
              <p>
                Praise publicly; criticize privately and in an encouraging way.
              </p>
              <p>
                Persistence helps. Work on it every day.
              </p>
              <p>
                These are all much easier said than done. Be forgiving with
                yourself and others.
              </p>
              <p>
                Remember to review 5-15 PRs (or handle or test 5-15 issues), for
                every PR you open.
              </p>
              <p>
                Finally, be sure to review contributions from a wide range of
                people and experience levels and not just those in your group of
                colleagues or acquaintances. Reach out to new and different
                people (direct IRC messages work well) to ask how you can help
                them. You can occasionally request help too, but don't be
                entitled. Give (much) more than you take.
              </p>

              <h3 id="technical-specifics">TECHNICAL SPECIFICS</h3>

              <p>
                <em>Don't trust, verify.</em> Minimise dependance on GitHub in
                your review process. Use the GitHub website only for the GitHub
                metadata, e.g. reading comments and adding your own comments —
                not for reviewing the commits and code, which you should do in
                your local environment.
              </p>

              <h4 id="pull-down-the-code-locally">Pull down the code locally</h4>
              <p>
                Therefore, a review begins by pulling the PR branch down to your
                computer to build and review locally. There are different ways
                to do it depending on what you want, your needs, disk space,
                internet bandwidth, etc. Here are a few:
              </p>
              <ol>
                <li>
                  Pulling down remote PRs with <code>git checkout
                    pr/&lt;number&gt;</code>
                  <a href="https://gist.github.com/piscisaureus/3342247">as
                    described in this nice little gist</a>
                  which can be modified to suit your needs.
                </li>
                <li>
                  My gitconfig <code>[remote "origin"]</code> section:
                  <code>fetch = +refs/pull/*/head:refs/remotes/origin/pr/*</code>
                </li>
                <li>
                  Bitcoin Core contributor Luke Dashjr's version: "To avoid all
                  the merge branches, configure the origin-pull remote as":
                  <code>fetch = +refs/pull/*/head:refs/remotes/origin-pull/*/head</code>
                </li>
                <li>
                  Bitcoin Core documentation for
                  <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/productivity.md#reference-prs-easily-with-refspecs">referencing
                    PRs easily with refspecs</a>.
                </li>
                <li>
                  GitHub
                  <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/checking-out-pull-requests-locally">exposes
                    PRs</a>
                  as branches on the upstream repository with
                  <code>pull/&lt;number&gt;/head</code> (contributor branch) and
                  <code>pull/&lt;number&gt;/merge</code> (merged into master),
                  e.g. <code>git fetch origin pull/17283/head &amp;&amp; git
                  checkout FETCH_HEAD</code>. That said, I prefer to depend as
                  little as possible on GitHub.
                </li>
              </ol>
              <p>
                You can test a PR either on the contributor's branch or with the
                changes merged on top of master. Testing the latter can be
                useful to see if anything merged into master since the last PR
                commit breaks the changes.
              </p>
              <p>
                Next, launch the build and tests while you begin reading the
                code locally. You'll need to become comfortable with
                <a href="how-to-compile-bitcoin-core-and-run-the-tests">compiling Bitcoin Core from source</a>
                and running the
                <a href="https://github.com/bitcoin/bitcoin/tree/master/src/test/README.md">unit
                  tests</a>
                and
                <a href="https://github.com/bitcoin/bitcoin/blob/master/test/README.md">functional
                  tests</a>
                since you will need to do it for many of the PRs you test. For
                this, the Bitcoin Core
                <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/productivity.md">productivity notes</a>
                are indispensable.
              </p>
              <p>
                Read and know the Bitcoin Core
                <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md">developer
                notes</a>.
              </p>

              <h4 id="diff-tools">Diff tools</h4>
              <p>
                While the build and tests are running, begin reviewing each
                commit separately in your local environment using a diff tool
                like
                <a href="https://git-scm.com/docs/gitk"
                   rel="nofollow">gitk</a>,
                <a href="https://meldmerge.org/"
                   rel="nofollow">meld</a>,
                <a href="https://yousseb.github.io/meld/" rel="nofollow">meld
                   for macOS</a>,
                <a href="https://www.gnu.org/software/emacs/manual/html_node/ediff/index.html"
                   rel="nofollow">GNU</a>
                <a href="https://www.emacswiki.org/emacs/EdiffMode"
                   rel="nofollow">ediff</a> for Emacs,
                <a href="https://vim.fandom.com/wiki/A_better_Vimdiff_Git_mergetool"
                   rel="nofollow">vimdiff</a> or
                <a href="https://github.com/whiteinge/diffconflicts"
                   rel="nofollow">vim-diffconflicts</a> for Vim,
                opendiff on macOS, or
                <a href="https://diffoscope.org" rel="nofollow">diffoscope</a>
                (here are some
                <a href="https://github.com/fanquake/core-review/blob/master/diffoscope.md"
                   rel="nofollow">diffoscope usage tips</a>).
              </p>
              <p>
                If you use gitk and like dark mode, I recommend
                <a href="https://github.com/dracula/gitk" rel="nofollow">Dracula for gitk</a>.
              </p>

              <h4 id="git-grepping">Git grepping</h4>
              <p>
                Become adept at searching the repository with
                <code>git grep</code>. You'll use it constantly to find stuff
                in the codebase. Run
                <code>git grep --help</code> on the command line for help or
                information.
              </p>

              <h4 id="if-youre-not-sure-where-to-start">If you're not sure where to start</h4>
              <p>
                Read the code, read the PR comments, then re-read both. Find
                something that doesn't make sense and try to figure it
                out. Repeat.
              </p>
              <p>
                Once it all starts to make sense, run bitcoind on regtest,
                testnet (or on mainnet with very small amounts), and tail or
                search through the relevant logs (run
                <code>bitcoin-cli help logging</code> for the various bitcoind
                logging categories and how to toggle them on/off).
              </p>
              <p>
                Maybe add some custom logging, LogPrintfs, or asserts; it's
                always a privilege to add these into other people's code (to see
                how, run <code>git grep -ni logprintf</code> or <code>git grep
                  assert</code> in the repository).
              </p>
              <p>
                Run the relevant functional tests and look through the debug
                logs. Verify that they fail in the expected way on master. Back
                in the PR branch, inverse or change the new tests to make them
                break and understand why.
              </p>
              <p>
                Maybe add C++
                <a href="https://www.gnu.org/software/gdb/documentation/"
                target="_blank">gdb</a>
                or Python
                <a href="https://docs.python.org/3/library/pdb.html"
                   target="_blank">pdb</a>
                breakpoints (or add <code>import pdb; pdb.set_trace()</code>
                anywhere in the functional test code). Examine values. Run RPC
                commands.
              </p>
              <p>
                Check if any call sites, headers or declarations have been
                overlooked in the PR.
              </p>
              <p>
                Try refactoring the code to be better or prettier, and discover
                why that doesn't work. Expect it to take twice as long as you
                planned it to. Yes, it's work.
              </p>
              <p>
                Maybe run strace (<code>man page strace</code>) to trace system
                calls and signals.
              </p>
              <p>
                Depending on the changes, contributing benchmarks, memory
                profiling/valgrind or flame graphs to a PR review can sometimes
                be very useful, and even decisive.
              </p>

              <h4 id="technical-resources">Technical resources</h4>
              <p>
                I maintain a document of various technical notes for myself,
                that I refer to often when working on Bitcoin Core, here:
                <a href="https://github.com/jonatack/bitcoin-development/blob/master/notes.txt"
                   target="_blank">jonatack/bitcoin-development/notes.txt</a>.
                There is also useful stuff in the repository where those notes
                are located. Another great repository of resources is
                <a href="https://github.com/fanquake/core-review"
                   target="_blank" rel="nofollow">fanquake/core-review</a>.
              </p>

              <h4 id="debugging">Debugging</h4>
              <p>
                Two good gists about debugging Bitcoin Core:
                <ul>
                  <li>
                    <a href="https://github.com/fjahr/debugging_bitcoin"
                       target="_blank">Debugging Bitcoin Core</a>
                    by
                    <a href="https://twitter.com/fjahr" target="_blank">Fabian Jahr</a>
                  </li>
                  <li>
                    <a href="https://gist.github.com/gubatron/36784ee38e45cb4bf4c7a82ecc87b6a8"
                       target="_blank">Hack and Debug Bitcoin Core with GDB or LLDB</a>
                    by
                    <a href="https://www.gubatron.com/blog/" target="_blank">Angel Leon</a>
                  </li>
                </ul>
              </p>

              <h4 id="add-missing-tests">Add missing tests</h4>
              <p>
                While you're reviewing, writing tests yourself can help you
                understand the behaviour and verify the changes, and if they add
                useful coverage you can propose them to the author for inclusion
                in the PR. Proposing automated tests is a really helpful way to
                start contributing. Authors appreciate it when someone reviews
                their PR and provides additional tests.
                <a href="https://github.com/bitcoin/bitcoin/pull/15996#issuecomment-491740946">Here's
                  an example</a>.
              </p>

              <h4 id="big-picture-more-important-than-nits">Big picture &gt; nits</h4>
              <p>
                Remember, the big picture is much more important than nits,
                spelling, or code style. Re-read the
                <a href="#nits" target="_self">Nits</a>
                section above. Try to avoid commenting on these while reviewing,
                even if you have no other comments to make. I know, it's hard —
                I've done it too many times — but there's a better alternative:
              </p>

              <h4 id="ask-questions">Ask questions</h4>
              <p>
                A good thing you can do as a reviewer without specialised
                knowledge of the code is <em>ask questions</em>. A PR author is
                usually happy to discuss their work or see interest in it. So,
                spend 20 minutes or so looking at a change, find the thing that
                seems most confusing or surprising, and ask about it politely in
                the PR comments or on the
                <a href="https://kiwiirc.com/nextclient/irc.libera.chat"
                   rel="nofollow">#bitcoin-core-dev</a>
                IRC channel. Chances are other people wonder about the same
                thing and it could be clarified or documented better. In this
                way you can learn and help make the project more accessible,
                too. (Credit for this paragraph:
                <a href="https://github.com/bitcoin/bitcoin/pull/15934#issuecomment-547095024">Russ Yanofsky</a>).
              </p>

              <h4 id="peer-review">Peer review</h4>
              <p>
                Be sure to learn and understand the Bitcoin Core
                <a href="https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#peer-review">peer
                  review process</a>.
                The process is
                <a href="https://github.com/bitcoin/bitcoin/pull/15626">often</a>
                <a href="https://github.com/bitcoin/bitcoin/pull/16149">updated</a>,
                so refer back to it frequently.
              </p>
              <p>
                An
                <a href="https://www.freecodecamp.org/news/what-do-cryptic-github-comments-mean-9c1912bcc0a4/"
                   target="_blank" rel="nofollow">ACK</a>
                (<a href="https://searchnetworking.techtarget.com/definition/ACK"
                   target="_blank" rel="nofollow">origin</a>)
                is generally followed by a description of how the reviewer did
                the review and any manual testing. As a new contributor, it's
                advisable to be even more verbose in review comments to provide
                context on what you did and thought through during the review
                and show that you understood the change.
              </p>
              <p>
                Concept ACK means the reviewer acknowledges and agrees with the
                goal of the change, but is not (yet) confirming they've looked
                at the code or tested it.  This can be a valuable signal to a PR
                author to let them know that the PR has merit and is headed in
                the right direction. As a corollary, a Concept NACK would
                indicate disagreement with the goal.
              </p>
              <p>
                Approach ACK is a step further than Concept ACK and means
                agreement with both the goal and the approach used in
                implementing the change. Approach NACK would therefore indicate
                agreement with the goal but not the approach.
              </p>
              <p>
                Reviewers sometimes comment "Code review ACK" to communicate
                that the code looks good but they haven't tested the changes or
                don't have an opinion on the concept yet. It's good to add more
                context to clarify: "Code review ACK <code>HEAD</code>, unsure
                about the concept, I'd like to verify x, y, z, etc."
              </p>
              <p>
                Other ACK variants that are sometimes used are "tACK" or "tested
                ACK", and "utACK" or "untested ACK".
              </p>
              <p>
                Manual testing of new features and reported issues is always
                welcome. A comment that is really helpful in review: "Here's
                what I tested and my methodology", particularly to back up an
                ACK.
              </p>
              <p>
                Some PRs can be difficult to test or ACK due to complexity,
                context, or possibly a lack of tests or simulation
                framework. That shouldn't discourage you from reviewing. For
                example, if you've reviewed the code thoroughly, a comment like
                "the code looks correct to me, but I don't feel confident enough
                about behaviour to give an ACK" is a perfectly helpful
                contribution.
              </p>
              <p>
                Examples of other useful comments could be "verified move-only"
                if the PR includes move-only commits, or "thought hard about how
                change X could break Y but didn't find any (or could this
                scenario happen?)", etc.
              </p>

              <h4 id="ack-with-the-commit-hash">ACK with the commit hash</h4>
              <p>
                When giving an ACK, specify the commits reviewed by appending
                the hash of the <code>HEAD</code> commit or the one to which you
                reviewed.  The trustless, correct way to do this is to use the
                hash from your <em>local</em> checkout of the branch and not
                from the GitHub web page. That way, unless your local tools are
                compromised, you ensure you are ACKing the exact changes.  This
                is also useful when a force push happens and links to old
                commits are lost on GitHub.
              </p>
              <p>
                A full ACK could look like: "ACK <code>fa2f991</code>, I built,
                ran tests, tested manually by doing X/Y/Z and reviewed the code
                and it looks OK, I agree it can be merged."
              </p>
              <p>
                The Bitcoin Core merge script currently copies into the merge
                commit the first paragraph of each ACK review pertaining to
                the <code>HEAD</code> commit at the time of merge. Keep in mind
                that anything you write there that is copied by the merge script
                will be in git history forever.
              </p>
              <p>
                A complex or more risky PR may require at least 3-4 experienced
                ACKs before merging.
              </p>

              <h4 id="apache-voting-system">Apache voting system</h4>
              <p>
                Bitcoin Core reviewers frequently use the
                <a href="https://www.apache.org/foundation/voting.html#expressing-votes-1-0-1-and-fractions"
                   target="_blank" rel="nofollow">Apache voting system</a>
                in their comments. Here is an
                <a href="https://github.com/bitcoin/bitcoin/pull/11426#issuecomment-334091207"
                   target="_blank" rel="nofollow">example</a>.
              </p>

              <h4 id="go-easy-on-the-people">Go easy on the people</h4>
              <p>
                Review the code, not the contributor or their comments.
              </p>
              <p>
                When you disagree, state your point of view once and move on.
                <a href="https://github.com/bitcoin/bitcoin/pull/22245#issuecomment-862044403"
                   target="_blank" rel="nofollow">Here's an example</a>.
                Don't flood the comments section, browbeat others or overreact.
                Be patient, never aggressive, pushy or bullying.  Remember that
                the most important thing is probably not the issue being
                discussed, but your relationship with the other contributors.
              </p>
              <p>
                As a new contributor, be cautious with giving a NACK. Assume by
                default that you might lack understanding or context. If you do
                NACK, provide good reasoning.
                <a href="https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-383342462"
                   rel="nofollow">Here's one example</a>.
              </p>

              <h4 id="signing-commits">Signing commits with Opentimestamps</h4>
              <p>
                Some Bitcoin Core contributors sign and OpenTimestamp their
                ACKs. While that is beyond the scope of this document, it is
                surprisingly trivial to sign your commits using the
                <a href="https://github.com/opentimestamps/opentimestamps-client/blob/master/doc/git-integration.md"
                   rel="nofollow">OpenTimestamps Git Integration</a>.
              </p>

              <h4 id="collapsible-comments">Collapsible comments</h4>
              <p>
                After a while you'll notice that contributors sometimes review
                using
                <a href="https://github.com/bitcoin/bitcoin/pull/15600#issuecomment-604144041"
                   rel="nofollow">collapsible comments</a>.
                <em>Cool,</em> you may think, <em>how do I do that?</em>
                It's done using HTML <code>details</code> tags.
                <a href="https://gist.github.com/joyrexus/16041f2426450e73f5df9391f7f7ae5f"
                   rel="nofollow">Here's how</a>.
              </p>

              <h3 id="credits">CREDITS</h3>
              <p>
                Thanks to
                <a href="https://twitter.com/moneyball"
                   rel="nofollow">Steve Lee</a>
                (moneyball) and
                <a href="https://twitter.com/michaelfolkson"
                   target="_blank">Michael Folkson</a>
                for reviewing this write-up and their suggestions.
              </p>
              <p>
                This article includes observed comments on GitHub and IRC by the
                following Bitcoin Core developers who deserve to
                be credited: Wladimir van der Laan, Marco Falke, Pieter Wuille,
                Gregory Maxwell, Anthony Towns, and Russ Yanofsky.
              </p>
              <p>
                Over the years I had become disillusioned by the central
                influence of BDFLs in programming languages and open source
                projects. Wladimir van der Laan's
                <a href="https://twitter.com/orionwl/status/1131564038444453889"
                   rel="nofollow">long-standing</a>
                <a href="https://twitter.com/orionwl/status/1131827793908645888"
                   rel="nofollow">humble</a>
                <a href="https://twitter.com/orionwl/status/1131924832071880705"
                   rel="nofollow">service</a>
                to Bitcoin sparked the possibility in me of becoming involved in
                open source again.
              </p>
              <p>
                Finally, a big thank you to the Bitcoin Core contributors for
                their patience with my review attempts so far, notably John
                Newbery, Marco Falke, João Barbosa, practicalswift, Gregory
                Sanders, Jonas Schnelli, Pieter Wuille and Wladimir van der
                Laan, and to Adam Jonas and John Newbery for their guidance and
                advice from the start.
              </p>
              <p>Cheers,</p>
              <p>Jon Atack</p>
            </article>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
